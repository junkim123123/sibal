# Nexi.ai (NexSupply) ì¸ìˆ˜ì¸ê³„ ë¬¸ì„œ

## ğŸ“‹ ë¬¸ì„œ ê°œìš”

**í”„ë¡œì íŠ¸ëª…**: Nexi.ai (NexSupply)  
**ë¬¸ì„œ ì‘ì„±ì¼**: 2024ë…„ 12ì›”  
**ë²„ì „**: 2.0.0  
**ëŒ€ìƒ**: ì‹ ì… ê°œë°œì, ìƒˆë¡œìš´ íŒ€ì›, í”„ë¡œì íŠ¸ ì¸ìˆ˜ì¸ê³„ ë‹´ë‹¹ì

---

## ğŸ¯ Nexi.aië€?

### í•œ ì¤„ ì •ì˜

> **Nexi.ai (NexSupply)**ëŠ” AI ê¸°ë°˜ B2B ê¸€ë¡œë²Œ ì†Œì‹± ì¸í…”ë¦¬ì „ìŠ¤ í”Œë«í¼ìœ¼ë¡œ, ì¤‘ì†Œ ì…€ëŸ¬ì™€ ë¦¬í…Œì¼ëŸ¬ê°€ ì•ˆì „í•˜ê³  íš¨ìœ¨ì ìœ¼ë¡œ í•´ì™¸ ì œí’ˆ ì†Œì‹±ì„ ì‹œì‘í•  ìˆ˜ ìˆë„ë¡ ë•ëŠ” ë§¤ë‹ˆì§€ë“œ ì†Œì‹± ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.

### í•µì‹¬ ê°€ì¹˜ ì œì•ˆ

1. **AI ê¸°ë°˜ Landed Cost ë¶„ì„**
   - Google Gemini 2.5 Flashë¥¼ í™œìš©í•œ ì‹¤ì‹œê°„ ë¹„ìš© ë¶„ì„
   - ê´€ì„¸, ìš´ì†¡ë¹„, í¬ì¥ë¹„ ë“± ëª¨ë“  ìˆ¨ì€ ë¹„ìš© í¬í•¨
   - ë‹¤ì–‘í•œ ë¬¼ëŸ‰ê³¼ ìš´ì†¡ ë°©ì‹(Air/Sea)ë³„ ë¹„êµ ë¶„ì„

2. **ë¦¬ìŠ¤í¬ í‰ê°€ ì‹œìŠ¤í…œ**
   - Quality, Delivery, Stability, Difficulty 4ê°€ì§€ ì°¨ì›ì˜ ë¦¬ìŠ¤í¬ í‰ê°€
   - HS ì½”ë“œ ê¸°ë°˜ ê´€ì„¸ ë¶„ì„
   - ì»´í”Œë¼ì´ì–¸ìŠ¤ ë° ì¸ì¦ ìš”êµ¬ì‚¬í•­ ë¶„ì„

3. **ë§¤ë‹ˆì§€ë“œ ì†Œì‹± ì„œë¹„ìŠ¤**
   - ì „ë¬¸ ë§¤ë‹ˆì €ì™€ì˜ 1:1 ì‹¤ì‹œê°„ ì±„íŒ…
   - íŒ©í† ë¦¬ ê²€ì¦, ê²¬ì  í˜‘ìƒ, QC, ë¬¼ë¥˜ ì „ ê³¼ì • ì§€ì›
   - í”„ë¡œì íŠ¸ ë§ˆì¼ìŠ¤í†¤ ìë™ ì¶”ì 

4. **ëŒ€í™”í˜• AI ì½”íŒŒì¼ëŸ¿**
   - ìì—°ì–´ ê¸°ë°˜ ì œí’ˆ ë¶„ì„
   - 3-5ê°œì˜ ê°„ë‹¨í•œ ì§ˆë¬¸ìœ¼ë¡œ í¬ê´„ì ì¸ ë¶„ì„ ë¦¬í¬íŠ¸ ìƒì„±
   - ì¹´í…Œê³ ë¦¬ë³„ ë§ì¶¤ ì§ˆë¬¸ ë° ì¡°ì–¸

### ë¹„ì¦ˆë‹ˆìŠ¤ ëª¨ë¸

- **ë¬´ë£Œ í‹°ì–´ (Free)**: ê¸°ë³¸ AI ë¶„ì„ (ì›” 30íšŒ ì œí•œ)
- **í”„ë¡œ í‹°ì–´ (Pro)**: $199/ì›”
  - ë¬´ì œí•œ AI ë¶„ì„
  - ì „ë¬¸ ë§¤ë‹ˆì € ì—°ê²°
  - í”„ë¡œì íŠ¸ ì‹¤í–‰ ì§€ì›
  - ì‹¤ì‹œê°„ ì±„íŒ… ì§€ì›

---

## ğŸ—ï¸ ê¸°ìˆ  ì•„í‚¤í…ì²˜

### Frontend ìŠ¤íƒ

- **Framework**: Next.js 15.1.0 (App Router)
- **ì–¸ì–´**: TypeScript
- **ìŠ¤íƒ€ì¼ë§**: Tailwind CSS
- **UI ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬**:
  - Radix UI (ì ‘ê·¼ì„± ë†’ì€ ì»´í¬ë„ŒíŠ¸)
  - Lucide React (ì•„ì´ì½˜)
  - Framer Motion (ì• ë‹ˆë©”ì´ì…˜)
  - Recharts (ë°ì´í„° ì‹œê°í™”)

### Backend ìŠ¤íƒ

- **ëŸ°íƒ€ì„**: Node.js
- **API**: Next.js API Routes
- **ì„œë²„ ì•¡ì…˜**: Next.js Server Actions
- **ë¯¸ë“¤ì›¨ì–´**: Next.js Middleware (ì¸ì¦/ê¶Œí•œ ì²´í¬)

### ë°ì´í„°ë² ì´ìŠ¤ & ì¸ì¦

- **Database**: Supabase (PostgreSQL)
- **ì¸ì¦**: Supabase Auth
- **ì‹¤ì‹œê°„ í†µì‹ **: Supabase Realtime
- **íŒŒì¼ ì €ì¥ì†Œ**: Supabase Storage
- **ORM**: Prisma (ì¼ë¶€ í…Œì´ë¸”ìš©)

### AI & ì™¸ë¶€ ì„œë¹„ìŠ¤

- **AI ëª¨ë¸**: Google Gemini 2.5 Flash / 2.5 Pro
- **ê²°ì œ ì‹œìŠ¤í…œ**: Lemon Squeezy
- **ì´ë©”ì¼ ì„œë¹„ìŠ¤**: Nodemailer + Google SMTP
- **Analytics**: Vercel Analytics

### ë°°í¬ & ì¸í”„ë¼

- **í˜¸ìŠ¤íŒ…**: Vercel
- **CI/CD**: GitHub + Vercel ìë™ ë°°í¬
- **í™˜ê²½ ë³€ìˆ˜**: Vercel í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬
- **Cron Jobs**: Vercel Cron (íŒŒì¼ ì •ë¦¬ ë“±)

### CMS

- **Content Management**: Sanity CMS
- **ë§ˆì¼€íŒ… ì½˜í…ì¸ **: í™ˆí˜ì´ì§€, FAQ, Use Cases ë“± ê´€ë¦¬

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
nexi.ai/
â”œâ”€â”€ web/                          # Next.js ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜
â”‚   â”œâ”€â”€ app/                      # App Router êµ¬ì¡°
â”‚   â”‚   â”œâ”€â”€ (marketing)/          # ë§ˆì¼€íŒ… í˜ì´ì§€ ê·¸ë£¹
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx          # ëœë”© í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/        # í´ë¼ì´ì–¸íŠ¸ ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx      # í”„ë¡œì íŠ¸/ì£¼ë¬¸ ëª©ë¡
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ chat/         # í´ë¼ì´ì–¸íŠ¸-ë§¤ë‹ˆì € ì±„íŒ…
â”‚   â”‚   â”‚   â”œâ”€â”€ pricing/          # ê°€ê²© í˜ì´ì§€
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ admin/                # Super Admin í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx          # Admin ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â”‚   â”œâ”€â”€ dispatch/         # í”„ë¡œì íŠ¸ ë°°ì • ì„¼í„°
â”‚   â”‚   â”‚   â”œâ”€â”€ users/            # ì‚¬ìš©ì ê´€ë¦¬
â”‚   â”‚   â”‚   â””â”€â”€ revenue/          # ë§¤ì¶œ ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â”œâ”€â”€ manager/              # ë§¤ë‹ˆì € ì „ìš© í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/        # ë§¤ë‹ˆì € ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â”‚   â””â”€â”€ workstation/      # ì‘ì—… ê³µê°„
â”‚   â”‚   â”œâ”€â”€ api/                  # API ì—”ë“œí¬ì¸íŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ analyze/          # AI ë¶„ì„ API
â”‚   â”‚   â”‚   â”œâ”€â”€ analyze-product/  # ì œí’ˆ ë¶„ì„ API
â”‚   â”‚   â”‚   â”œâ”€â”€ chat-sessions/    # ì±„íŒ… ì„¸ì…˜ ê´€ë¦¬
â”‚   â”‚   â”‚   â”œâ”€â”€ chat-messages/    # ì±„íŒ… ë©”ì‹œì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ payment/          # ê²°ì œ ì²˜ë¦¬
â”‚   â”‚   â”‚   â”œâ”€â”€ manager/          # ë§¤ë‹ˆì € API
â”‚   â”‚   â”‚   â””â”€â”€ admin/            # Admin API
â”‚   â”‚   â”œâ”€â”€ chat/                 # AI ì±„íŒ… ì¸í„°í˜ì´ìŠ¤ (ë ˆê±°ì‹œ)
â”‚   â”‚   â”œâ”€â”€ copilot/              # ëŒ€í™”í˜• AI ì½”íŒŒì¼ëŸ¿ (ë©”ì¸)
â”‚   â”‚   â”œâ”€â”€ login/                # ë¡œê·¸ì¸/íšŒì›ê°€ì…
â”‚   â”‚   â””â”€â”€ results/              # ë¶„ì„ ê²°ê³¼ í˜ì´ì§€
â”‚   â”œâ”€â”€ components/               # ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ ManagerChat.tsx       # ë§¤ë‹ˆì €-í´ë¼ì´ì–¸íŠ¸ ì±„íŒ…
â”‚   â”‚   â”œâ”€â”€ ClientMessagesList.tsx # í´ë¼ì´ì–¸íŠ¸ìš© ë©”ì‹œì§€ ëª©ë¡
â”‚   â”‚   â”œâ”€â”€ AssetLibrary.tsx      # íŒŒì¼ ë¼ì´ë¸ŒëŸ¬ë¦¬
â”‚   â”‚   â”œâ”€â”€ copilot/              # ì½”íŒŒì¼ëŸ¿ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ dashboard/            # ëŒ€ì‹œë³´ë“œ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â””â”€â”€ ui/                   # ê¸°ë³¸ UI ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ lib/                      # ìœ í‹¸ë¦¬í‹° ë° í—¬í¼
â”‚   â”‚   â”œâ”€â”€ supabase/             # Supabase í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ client.ts         # í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ
â”‚   â”‚   â”‚   â”œâ”€â”€ server.ts         # ì„œë²„ ì‚¬ì´ë“œ
â”‚   â”‚   â”‚   â””â”€â”€ admin.ts          # Admin í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ ai/                   # AI ê´€ë ¨ ë¡œì§
â”‚   â”‚   â”‚   â”œâ”€â”€ geminiClient.ts   # Gemini í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ aiReportV2.ts     # AI ë¦¬í¬íŠ¸ ìƒì„±
â”‚   â”‚   â”‚   â”œâ”€â”€ conversationalCopilot.ts # ëŒ€í™”í˜• ì½”íŒŒì¼ëŸ¿
â”‚   â”‚   â”‚   â””â”€â”€ productAnalysis.ts # ì œí’ˆ ë¶„ì„
â”‚   â”‚   â”œâ”€â”€ email/                # ì´ë©”ì¼ ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â”‚   â”œâ”€â”€ sender.ts         # ì´ë©”ì¼ ë°œì†¡
â”‚   â”‚   â”‚   â””â”€â”€ templates.tsx     # ì´ë©”ì¼ í…œí”Œë¦¿
â”‚   â”‚   â”œâ”€â”€ sample-request/       # ë¦¬ë“œ ì¸í…”ë¦¬ì „ìŠ¤
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ supabase/                 # ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
â”‚   â”‚   â”œâ”€â”€ schema.sql            # ê¸°ë³¸ ìŠ¤í‚¤ë§ˆ
â”‚   â”‚   â”œâ”€â”€ schema_extensions.sql
â”‚   â”‚   â”œâ”€â”€ manager_schema_extensions.sql
â”‚   â”‚   â”œâ”€â”€ super_admin_schema.sql
â”‚   â”‚   â””â”€â”€ chat_sessions_schema.sql
â”‚   â”œâ”€â”€ prisma/                   # Prisma ìŠ¤í‚¤ë§ˆ (ì œí•œì  ì‚¬ìš©)
â”‚   â”‚   â””â”€â”€ schema.prisma
â”‚   â””â”€â”€ docs/                     # í”„ë¡œì íŠ¸ ë¬¸ì„œ
â”œâ”€â”€ sanity/                       # Sanity CMS ì„¤ì •
â”‚   â”œâ”€â”€ schemas/                  # ì½˜í…ì¸  ìŠ¤í‚¤ë§ˆ
â”‚   â””â”€â”€ sanity.config.ts
â””â”€â”€ README.md
```

---

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### í•µì‹¬ í…Œì´ë¸”

#### 1. `profiles` (ì‚¬ìš©ì í”„ë¡œí•„)
```sql
- id: UUID (Primary Key, auth.users ì°¸ì¡°)
- email: TEXT (Unique)
- name: TEXT
- company: TEXT
- role: TEXT ('free', 'pro', 'manager', 'admin', 'super_admin')
- is_manager: BOOLEAN
- workload_score: INTEGER (ë§¤ë‹ˆì € ì‘ì—…ëŸ‰)
- availability_status: TEXT ('available', 'busy', 'offline')
- is_banned: BOOLEAN
- has_active_subscription: BOOLEAN
- analysis_count: INTEGER (ì›”ë³„ ë¶„ì„ íšŸìˆ˜)
- last_analysis_date: TIMESTAMPTZ
- total_spend: NUMERIC
- created_at: TIMESTAMPTZ
```

#### 2. `projects` (í”„ë¡œì íŠ¸)
```sql
- id: UUID (Primary Key)
- user_id: UUID (Foreign Key â†’ profiles.id)
- manager_id: UUID (Foreign Key â†’ profiles.id, nullable)
- name: TEXT
- status: TEXT ('active', 'completed', 'archived', 'in_progress', 'saved')
- initial_risk_score: NUMERIC
- total_landed_cost: NUMERIC
- current_milestone_index: INTEGER
- milestones: JSONB (ë§ˆì¼ìŠ¤í†¤ ë°°ì—´)
- analysis_data: JSONB (AI ë¶„ì„ ê²°ê³¼)
- dispatched_at: TIMESTAMPTZ
- created_at: TIMESTAMPTZ
- updated_at: TIMESTAMPTZ
```

#### 3. `chat_sessions` (ì±„íŒ… ì„¸ì…˜)
```sql
- id: UUID (Primary Key)
- project_id: UUID (Foreign Key â†’ projects.id)
- user_id: UUID (Foreign Key â†’ profiles.id)
- manager_id: UUID (Foreign Key â†’ profiles.id, nullable)
- status: TEXT ('open', 'in_progress', 'resolved', 'closed')
- created_at: TIMESTAMPTZ
```

#### 4. `chat_messages` (ì±„íŒ… ë©”ì‹œì§€)
```sql
- id: UUID (Primary Key)
- session_id: UUID (Foreign Key â†’ chat_sessions.id)
- sender_id: UUID (Foreign Key â†’ profiles.id)
- role: TEXT ('user', 'manager')
- content: TEXT
- file_url: TEXT (nullable)
- file_name: TEXT (nullable)
- file_type: TEXT (nullable)
- read_at: TIMESTAMPTZ (nullable)
- created_at: TIMESTAMPTZ
```

#### 5. `messages` (AI ë¶„ì„ ë©”ì‹œì§€ íˆìŠ¤í† ë¦¬)
```sql
- id: UUID (Primary Key)
- project_id: UUID (Foreign Key â†’ projects.id)
- role: TEXT ('user', 'ai')
- content: TEXT
- timestamp: TIMESTAMPTZ
```

#### 6. `factory_quotes` (íŒ©í† ë¦¬ ê²¬ì )
```sql
- id: UUID (Primary Key)
- project_id: UUID (Foreign Key â†’ projects.id)
- factory_name: TEXT
- factory_location: TEXT
- quote_amount: NUMERIC
- status: TEXT ('pending', 'selected', 'rejected')
- created_at: TIMESTAMPTZ
```

#### 7. `qc_reports` (QC ë¦¬í¬íŠ¸)
```sql
- id: UUID (Primary Key)
- project_id: UUID (Foreign Key â†’ projects.id)
- inspection_date: DATE
- status: TEXT ('pending', 'approved', 'rejected')
- report_url: TEXT
- created_at: TIMESTAMPTZ
```

### ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì • ë°©ë²•

1. **Supabase í”„ë¡œì íŠ¸ ìƒì„±**
   - [supabase.com](https://supabase.com)ì—ì„œ ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±

2. **ìŠ¤í‚¤ë§ˆ ì‹¤í–‰**
   - Supabase ëŒ€ì‹œë³´ë“œ â†’ SQL Editor
   - ë‹¤ìŒ ìˆœì„œë¡œ SQL íŒŒì¼ ì‹¤í–‰:
     1. `web/supabase/schema.sql`
     2. `web/supabase/schema_extensions.sql`
     3. `web/supabase/manager_schema_extensions.sql`
     4. `web/supabase/super_admin_schema.sql`
     5. `web/supabase/chat_sessions_schema.sql`
     6. `web/supabase/email_notifications_schema.sql`

3. **Storage ë²„í‚· ìƒì„±**
   - Storage â†’ Create Bucket
   - ì´ë¦„: `chat-files`
   - Public: false (ë¹„ê³µê°œ)
   - RLS ì •ì±… ì„¤ì • í•„ìš”

4. **Realtime í™œì„±í™”**
   - Database â†’ Replication
   - `chat_messages` í…Œì´ë¸” í™œì„±í™”

5. **Row Level Security (RLS) í™œì„±í™”**
   - ëª¨ë“  í…Œì´ë¸”ì— RLS ì •ì±… ì„¤ì • í•„ìš”
   - ì‚¬ìš©ìëŠ” ìì‹ ì˜ ë°ì´í„°ë§Œ ì ‘ê·¼ ê°€ëŠ¥
   - ë§¤ë‹ˆì €ëŠ” í• ë‹¹ëœ í”„ë¡œì íŠ¸ë§Œ ì ‘ê·¼ ê°€ëŠ¥

---

## ğŸ” í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

### í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜

#### Supabase
```env
NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
```

#### Google Gemini AI
```env
GEMINI_API_KEY=your-gemini-api-key
GEMINI_CUSTOM_MODEL_ID=your-custom-model-id (ì„ íƒì‚¬í•­)
```

#### Lemon Squeezy (ê²°ì œ)
```env
LEMONSQUEEZY_API_KEY=your-lemonsqueezy-api-key
LEMONSQUEEZY_STORE_ID=your-store-id
LEMONSQUEEZY_WEBHOOK_SECRET=your-webhook-secret
LEMON_SQUEEZY_STORE_URL=https://your-store.lemonsqueezy.com/checkout/buy/your-product-id
```

#### ì´ë©”ì¼ (Google SMTP)
```env
GMAIL_USER=your-email@nexsupply.net
GMAIL_APP_PASSWORD=your-app-password
```

#### ê¸°íƒ€
```env
# íŒŒì¼ ì •ë¦¬ (ì„ íƒì‚¬í•­)
CLEANUP_API_KEY=your-cleanup-secret-key
CRON_SECRET=your-cron-secret

# ì™¸ë¶€ ë§í¬
NEXT_PUBLIC_BOOKING_URL=https://calendly.com/...
NEXT_PUBLIC_CONTRACT_URL=https://...
```

### Vercel í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

1. Vercel ëŒ€ì‹œë³´ë“œ â†’ í”„ë¡œì íŠ¸ ì„ íƒ
2. Settings â†’ Environment Variables
3. ìœ„ì˜ ëª¨ë“  í™˜ê²½ ë³€ìˆ˜ ì¶”ê°€
4. Production, Preview, Development í™˜ê²½ ëª¨ë‘ ì„¤ì •

---

## ğŸš€ ë¡œì»¬ ê°œë°œ í™˜ê²½ ì„¤ì •

### 1. í•„ìˆ˜ ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ì¹˜

```bash
# Node.js 18+ ì„¤ì¹˜ í™•ì¸
node --version  # v18.0.0 ì´ìƒ

# npm ì„¤ì¹˜ í™•ì¸
npm --version

# Git ì„¤ì¹˜ í™•ì¸
git --version
```

### 2. í”„ë¡œì íŠ¸ í´ë¡  ë° ì„¤ì •

```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone <repository-url>
cd nexi.ai

# web ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd web

# ì˜ì¡´ì„± ì„¤ì¹˜
npm install --legacy-peer-deps

# í™˜ê²½ ë³€ìˆ˜ íŒŒì¼ ìƒì„±
cp .env.example .env.local
# .env.local íŒŒì¼ì— ëª¨ë“  í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
```

### 3. ê°œë°œ ì„œë²„ ì‹¤í–‰

```bash
# ê°œë°œ ì„œë²„ ì‹œì‘
npm run dev

# ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:3000 ì ‘ì†
```

### 4. ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜

Supabase ëŒ€ì‹œë³´ë“œì—ì„œ SQL íŒŒì¼ë“¤ì„ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰ (ìœ„ "ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì • ë°©ë²•" ì°¸ì¡°)

### 5. Prisma ë§ˆì´ê·¸ë ˆì´ì…˜ (ì„ íƒì‚¬í•­)

```bash
# Prisma í´ë¼ì´ì–¸íŠ¸ ìƒì„±
npx prisma generate

# Prisma ë§ˆì´ê·¸ë ˆì´ì…˜ (í•„ìš”í•œ ê²½ìš°)
npx prisma migrate dev
```

---

## ğŸ”„ ì£¼ìš” ê¸°ëŠ¥ ë° ì‚¬ìš©ì í”Œë¡œìš°

### 1. í´ë¼ì´ì–¸íŠ¸ ì‚¬ìš©ì í”Œë¡œìš°

#### ì‹ ê·œ ì‚¬ìš©ì ì˜¨ë³´ë”©
```
1. ëœë”© í˜ì´ì§€ ì ‘ì† (/)
2. "Get Started" ë˜ëŠ” "Try for Free" í´ë¦­
3. íšŒì›ê°€ì…/ë¡œê·¸ì¸ (/login)
4. ëŒ€ì‹œë³´ë“œë¡œ ìë™ ë¦¬ë‹¤ì´ë ‰íŠ¸ (/dashboard)
```

#### AI ë¶„ì„ í”Œë¡œìš°
```
1. /copilot í˜ì´ì§€ ì ‘ì†
2. AI ì½”íŒŒì¼ëŸ¿ê³¼ ëŒ€í™” ì‹œì‘
   - ì œí’ˆ ì„¤ëª… ì…ë ¥
   - ì¹´í…Œê³ ë¦¬ ì„ íƒ ë˜ëŠ” í…ìŠ¤íŠ¸ ì…ë ¥
3. AIê°€ 3-5ê°œì˜ ì§ˆë¬¸ì„ í†µí•´ ì •ë³´ ìˆ˜ì§‘
   - ì œí’ˆëª…
   - íŒë§¤ ì±„ë„ (Amazon FBA, Shopify ë“±)
   - ëª©í‘œ ì‹œì¥ (ë¯¸êµ­, ìœ ëŸ½ ë“±)
   - ë¬¼ëŸ‰ ê³„íš
   - íƒ€ì„ë¼ì¸
4. AI ë¶„ì„ ì‹¤í–‰
5. ë¶„ì„ ê²°ê³¼ í™•ì¸ (/results)
   - Landed Cost ë¶„ì„
   - ë¦¬ìŠ¤í¬ í‰ê°€
   - HS ì½”ë“œ ë° ê´€ì„¸ ì •ë³´
   - ì „ëµì  ì¡°ì–¸
6. í”„ë¡œì íŠ¸ ì €ì¥ (ì„ íƒì‚¬í•­)
```

#### í”„ë¡œ ê²°ì œ ë° ë§¤ë‹ˆì € ì—°ê²°
```
1. ë¶„ì„ ê²°ê³¼ì—ì„œ "Upgrade to Pro" í´ë¦­
2. Lemon Squeezy ê²°ì œ í˜ì´ì§€ë¡œ ì´ë™
3. ê²°ì œ ì™„ë£Œ í›„ ìë™ìœ¼ë¡œ roleì´ 'pro'ë¡œ ì—…ë°ì´íŠ¸
4. Super Adminì´ í”„ë¡œì íŠ¸ì— ë§¤ë‹ˆì € ë°°ì •
5. ë§¤ë‹ˆì € ë°°ì • í›„ í”„ë¡œì íŠ¸ statusê°€ 'in_progress'ë¡œ ë³€ê²½
6. í´ë¼ì´ì–¸íŠ¸ëŠ” /dashboard/chatì—ì„œ ë§¤ë‹ˆì €ì™€ ì‹¤ì‹œê°„ ì±„íŒ… ê°€ëŠ¥
```

#### ë§¤ë‹ˆì €ì™€ì˜ í˜‘ì—…
```
1. /dashboard ì ‘ì†
2. "Active Orders" íƒ­ì—ì„œ ì§„í–‰ ì¤‘ì¸ í”„ë¡œì íŠ¸ í™•ì¸
3. í”„ë¡œì íŠ¸ í´ë¦­ ë˜ëŠ” "Chat" ë²„íŠ¼ í´ë¦­
4. /dashboard/chat?project_id=xxx ì ‘ì†
5. ë§¤ë‹ˆì €ì™€ ì‹¤ì‹œê°„ ì±„íŒ…
   - í…ìŠ¤íŠ¸ ë©”ì‹œì§€
   - íŒŒì¼ ì—…ë¡œë“œ (ê²¬ì , QC ë¦¬í¬íŠ¸ ë“±)
6. íŒŒì¼ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ëª¨ë“  ë¬¸ì„œ í™•ì¸
7. ë§ˆì¼ìŠ¤í†¤ ì§„í–‰ ìƒí™© í™•ì¸
```

### 2. ë§¤ë‹ˆì € ì‚¬ìš©ì í”Œë¡œìš°

#### ë§¤ë‹ˆì € ë¡œê·¸ì¸
```
1. @nexsupply.net ì´ë©”ì¼ë¡œ ë¡œê·¸ì¸
2. ìë™ìœ¼ë¡œ /manager/dashboardë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
```

#### ë§¤ë‹ˆì € ëŒ€ì‹œë³´ë“œ
```
1. KPI ì¹´ë“œ í™•ì¸
   - Active Clients (í™œì„± í´ë¼ì´ì–¸íŠ¸ ìˆ˜)
   - Revenue (ìˆ˜ìµ)
   - ë“±
2. í• ë‹¹ëœ í”„ë¡œì íŠ¸ ëª©ë¡ í™•ì¸
```

#### ì‘ì—… ê³µê°„ (Workstation)
```
1. /manager/workstation ì ‘ì†
2. í´ë¼ì´ì–¸íŠ¸ ë¦¬ìŠ¤íŠ¸ì—ì„œ í”„ë¡œì íŠ¸ ì„ íƒ
3. ì‹¤ì‹œê°„ ì±„íŒ…ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ì™€ ì†Œí†µ
4. ë§ˆì¼ìŠ¤í†¤ ì—…ë°ì´íŠ¸
5. íŒŒì¼ ì—…ë¡œë“œ ë° ê´€ë¦¬
6. ê²¬ì  ê´€ë¦¬
7. QC ë¦¬í¬íŠ¸ ê´€ë¦¬
```

### 3. Super Admin ì‚¬ìš©ì í”Œë¡œìš°

#### Admin ë¡œê·¸ì¸
```
1. k.myungjun@nexsupply.netìœ¼ë¡œ ë¡œê·¸ì¸
2. ìë™ìœ¼ë¡œ /adminìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
```

#### Admin ëŒ€ì‹œë³´ë“œ
```
1. ì „ì²´ í˜„í™© í™•ì¸
   - ë¯¸ë°°ì • í”„ë¡œì íŠ¸ ìˆ˜
   - í™œì„± í”„ë¡œì íŠ¸ ìˆ˜
   - ì´ ë§¤ì¶œ
   - ë§¤ë‹ˆì € ê°€ë™ë¥ 
```

#### í”„ë¡œì íŠ¸ ë°°ì •
```
1. /admin/dispatch ì ‘ì†
2. ë¯¸ë°°ì • í”„ë¡œì íŠ¸ ëª©ë¡ í™•ì¸
3. ë§¤ë‹ˆì € í’€ì—ì„œ ì ì ˆí•œ ë§¤ë‹ˆì € ì„ íƒ
4. "Assign" í´ë¦­í•˜ì—¬ í”„ë¡œì íŠ¸ ë°°ì •
5. í”„ë¡œì íŠ¸ statusê°€ 'active' â†’ 'in_progress'ë¡œ ë³€ê²½
```

#### ì‚¬ìš©ì ê´€ë¦¬
```
1. /admin/users ì ‘ì†
2. ì‚¬ìš©ì ëª©ë¡ í™•ì¸
3. ì‚¬ìš©ì ì°¨ë‹¨/í•´ì œ
4. ê°•ì œ í™˜ë¶ˆ ì²˜ë¦¬
```

#### ë§¤ì¶œ ê´€ë¦¬
```
1. /admin/revenue ì ‘ì†
2. Lemon Squeezy APIë¥¼ í†µí•œ ë§¤ì¶œ í†µê³„ í™•ì¸
3. ìµœê·¼ ì£¼ë¬¸ ë‚´ì—­ í™•ì¸
```

---

## ğŸ’° ê²°ì œ ì‹œìŠ¤í…œ (Lemon Squeezy)

### ì›Œí¬í”Œë¡œìš°

1. **ê²°ì œ ì‹œì‘**
   - ì‚¬ìš©ìê°€ "Upgrade to Pro" ë˜ëŠ” "Validator" ë²„íŠ¼ í´ë¦­
   - `/api/payment/create-checkout-url` API í˜¸ì¶œ
   - Lemon Squeezy Checkout URL ìƒì„±
   - ì‚¬ìš©ìë¥¼ Checkout í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸

2. **ê²°ì œ ì™„ë£Œ**
   - Lemon Squeezyì—ì„œ ì›¹í›… í˜¸ì¶œ
   - `/api/payment/webhook` ì—”ë“œí¬ì¸íŠ¸ì—ì„œ ì²˜ë¦¬
   - HMAC ì‹œê·¸ë‹ˆì²˜ ê²€ì¦
   - `profiles` í…Œì´ë¸”ì—ì„œ í•´ë‹¹ ì‚¬ìš©ì ì°¾ê¸°
   - `role`ì„ `'pro'`ë¡œ ì—…ë°ì´íŠ¸
   - `has_active_subscription`ì„ `true`ë¡œ ì„¤ì •
   - ì‚¬ìš©ìì—ê²Œ í™•ì¸ ì´ë©”ì¼ ë°œì†¡

3. **ë§¤ì¶œ í†µê³„**
   - `/api/admin/revenue` ë˜ëŠ” Lemon Squeezy ëŒ€ì‹œë³´ë“œì—ì„œ ì¡°íšŒ
   - Lemon Squeezy APIë¥¼ í†µí•œ ì‹¤ì‹œê°„ ë§¤ì¶œ ë°ì´í„°

### ì›¹í›… ì´ë²¤íŠ¸ ì²˜ë¦¬

ì£¼ìš” ì´ë²¤íŠ¸:
- `order_created`: ì£¼ë¬¸ ìƒì„±
- `subscription_created`: êµ¬ë… ìƒì„±
- `subscription_updated`: êµ¬ë… ì—…ë°ì´íŠ¸
- `subscription_cancelled`: êµ¬ë… ì·¨ì†Œ

---

## ğŸ“§ ì´ë©”ì¼ ì•Œë¦¼ ì‹œìŠ¤í…œ

### ì•Œë¦¼ ì¢…ë¥˜

1. **ë¶„ì„ ì™„ë£Œ ì•Œë¦¼**
   - AI ë¶„ì„ì´ ì™„ë£Œë˜ë©´ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë°œì†¡
   - ë¶„ì„ ê²°ê³¼ ë§í¬ í¬í•¨

2. **ìƒˆ ë©”ì‹œì§€ ì•Œë¦¼**
   - ë§¤ë‹ˆì €ê°€ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ë©´ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë°œì†¡
   - 1ì‹œê°„ ë‚´ ì¤‘ë³µ ì•Œë¦¼ ë°©ì§€ (Throttling)

3. **ë§ˆì¼ìŠ¤í†¤ ì—…ë°ì´íŠ¸ ì•Œë¦¼**
   - í”„ë¡œì íŠ¸ ë§ˆì¼ìŠ¤í†¤ì´ ì—…ë°ì´íŠ¸ë˜ë©´ ì•Œë¦¼

4. **ê²°ì œ ì™„ë£Œ ì•Œë¦¼**
   - ê²°ì œ ì™„ë£Œ ì‹œ í™•ì¸ ì´ë©”ì¼

### ì´ë©”ì¼ í…œí”Œë¦¿

ìœ„ì¹˜: `web/lib/email/templates.tsx`

í…œí”Œë¦¿ ì¢…ë¥˜:
- `AnalysisCompletedTemplate`
- `NewMessageTemplate`
- `MilestoneUpdateTemplate`
- `PaymentConfirmationTemplate`

### ì´ë©”ì¼ ë°œì†¡

ìœ„ì¹˜: `web/lib/email/sender.ts`

```typescript
import { sendEmail } from '@/lib/email/sender'

await sendEmail({
  to: user.email,
  subject: 'Analysis Completed',
  template: 'AnalysisCompleted',
  data: { ... }
})
```

---

## ğŸ¤– AI ë¶„ì„ ì‹œìŠ¤í…œ

### AI ëª¨ë¸

- **ì£¼ ëª¨ë¸**: Google Gemini 2.5 Flash (ë¹ ë¥¸ ì‘ë‹µ, ë¹„ìš© íš¨ìœ¨ì )
- **ê³ ê¸‰ ë¶„ì„**: Google Gemini 2.5 Pro (ë³µì¡í•œ ë¶„ì„ í•„ìš” ì‹œ)

### ë¶„ì„ í”„ë¡œì„¸ìŠ¤

1. **ì‚¬ìš©ì ì…ë ¥ ìˆ˜ì§‘** (`/copilot`)
   - ëŒ€í™”í˜• ì½”íŒŒì¼ëŸ¿ì„ í†µí•œ ìì—°ì–´ ì…ë ¥
   - êµ¬ì¡°í™”ëœ ì§ˆë¬¸-ë‹µë³€ í”Œë¡œìš°

2. **AI ë¶„ì„ ì‹¤í–‰** (`/api/analyze-product`)
   - ì œí’ˆ ì •ë³´ ì¶”ì¶œ
   - Landed Cost ê³„ì‚°
   - ë¦¬ìŠ¤í¬ í‰ê°€
   - HS ì½”ë“œ ì¶”ì •
   - ì „ëµì  ì¡°ì–¸ ìƒì„±

3. **ê²°ê³¼ ì €ì¥ ë° í‘œì‹œ**
   - `projects` í…Œì´ë¸”ì— ë¶„ì„ ê²°ê³¼ ì €ì¥
   - `/results` í˜ì´ì§€ì—ì„œ ìƒì„¸ ê²°ê³¼ í‘œì‹œ

### ë¶„ì„ ê²°ê³¼ êµ¬ì¡°

```typescript
interface AnalysisResult {
  financials: {
    estimated_landed_cost: number;
    estimated_margin_pct: number;
    net_profit: number;
  };
  cost_breakdown: {
    factory_exw: number;
    shipping: number;
    duty: number;
    packaging: number;
    customs: number;
    insurance: number;
  };
  scale_analysis: Array<{
    qty: number;
    mode: "Air" | "Sea";
    unit_cost: number;
    margin: number;
  }>;
  risks: {
    duty: { level: string; reason: string };
    supplier: { level: string; reason: string };
    compliance: { level: string; reason: string; cost: number };
  };
  duty_analysis?: {
    hs_code: string;
    rate: string;
    rationale: string;
  };
  logistics_insight?: {
    efficiency_score: string;
    container_loading: string;
    advice: string;
  };
  executive_summary: string;
}
```

### ë¸”ë™ë¦¬ìŠ¤íŠ¸ ì²´í¬

- íŠ¹ì • ì œí’ˆ/íšŒì‚¬ì— ëŒ€í•œ Kill Switch
- `web/lib/data/blacklist.json` íŒŒì¼ ì°¸ì¡°
- ë¸”ë™ë¦¬ìŠ¤íŠ¸ì— í¬í•¨ëœ í•­ëª©ì€ ë¶„ì„ ì°¨ë‹¨

---

## ğŸ’¬ ì‹¤ì‹œê°„ ì±„íŒ… ì‹œìŠ¤í…œ

### ê¸°ìˆ  ìŠ¤íƒ

- **ì‹¤ì‹œê°„ í†µì‹ **: Supabase Realtime
- **ë©”ì‹œì§€ ì €ì¥**: Supabase Database (`chat_messages` í…Œì´ë¸”)
- **íŒŒì¼ ì—…ë¡œë“œ**: Supabase Storage

### ì±„íŒ… í”Œë¡œìš°

1. **ì±„íŒ… ì„¸ì…˜ ìƒì„±**
   - í”„ë¡œì íŠ¸ ìƒì„± ì‹œ ìë™ ìƒì„±
   - ë˜ëŠ” `/api/chat-sessions` POST ìš”ì²­ìœ¼ë¡œ ìˆ˜ë™ ìƒì„±

2. **ë©”ì‹œì§€ ì „ì†¡**
   - `/api/chat-messages` POST ìš”ì²­
   - Supabase Realtimeìœ¼ë¡œ ì‹¤ì‹œê°„ ì „ì†¡
   - ëª¨ë“  ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ì— ì¦‰ì‹œ ë°˜ì˜

3. **íŒŒì¼ ì—…ë¡œë“œ**
   - `/api/chat/upload` POST ìš”ì²­
   - Supabase Storageì— ì—…ë¡œë“œ
   - Signed URL ìƒì„±í•˜ì—¬ ë©”ì‹œì§€ì— ì²¨ë¶€

4. **ì½ìŒ í‘œì‹œ**
   - ë©”ì‹œì§€ ìˆ˜ì‹  ì‹œ `read_at` í•„ë“œ ì—…ë°ì´íŠ¸
   - ì½ì§€ ì•Šì€ ë©”ì‹œì§€ ìˆ˜ í‘œì‹œ

### ì»´í¬ë„ŒíŠ¸

- **ManagerChat**: `web/components/ManagerChat.tsx`
  - ë§¤ë‹ˆì €ìš© ì±„íŒ… ì¸í„°í˜ì´ìŠ¤
  - Quick Replies ì§€ì›
  - íŒŒì¼ ì—…ë¡œë“œ UI

- **ClientMessagesList**: `web/components/ClientMessagesList.tsx`
  - í´ë¼ì´ì–¸íŠ¸ìš© ë©”ì‹œì§€ ëª©ë¡
  - í”„ë¡œì íŠ¸ë³„ ê·¸ë£¹í™”
  - ì½ì§€ ì•Šì€ ë©”ì‹œì§€ ë°°ì§€

---

## ğŸ“Š ì£¼ìš” API ì—”ë“œí¬ì¸íŠ¸

### ë¶„ì„ API

- `POST /api/analyze-product` - ì œí’ˆ ë¶„ì„ ì‹¤í–‰
- `POST /api/analyze` - ì†Œì‹± ë¶„ì„ ì‹¤í–‰ (ë ˆê±°ì‹œ)
- `GET /api/ai-report` - AI ë¦¬í¬íŠ¸ ìƒì„±

### ì±„íŒ… API

- `GET /api/chat-sessions` - ì±„íŒ… ì„¸ì…˜ ëª©ë¡
- `POST /api/chat-sessions` - ìƒˆ ì±„íŒ… ì„¸ì…˜ ìƒì„±
- `POST /api/chat-messages` - ë©”ì‹œì§€ ì „ì†¡
- `GET /api/chat-messages?session_id=xxx` - ë©”ì‹œì§€ ëª©ë¡ ì¡°íšŒ
- `POST /api/chat/upload` - íŒŒì¼ ì—…ë¡œë“œ

### í”„ë¡œì íŠ¸ API

- `GET /api/projects` - í”„ë¡œì íŠ¸ ëª©ë¡
- `POST /api/projects` - ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±
- `GET /api/projects/[id]` - í”„ë¡œì íŠ¸ ìƒì„¸
- `POST /api/projects/save` - í”„ë¡œì íŠ¸ ì €ì¥
- `POST /api/projects/submit` - í”„ë¡œì íŠ¸ ì œì¶œ

### ê²°ì œ API

- `GET /api/payment/create-checkout-url` - Checkout URL ìƒì„±
- `POST /api/payment/webhook` - Lemon Squeezy ì›¹í›…
- `POST /api/payment/subscribe` - êµ¬ë… ìƒì„±

### ë§¤ë‹ˆì € API

- `GET /api/manager/projects` - í• ë‹¹ëœ í”„ë¡œì íŠ¸ ëª©ë¡
- `GET /api/manager/chat-sessions` - ë§¤ë‹ˆì € ì±„íŒ… ì„¸ì…˜
- `POST /api/manager/milestones` - ë§ˆì¼ìŠ¤í†¤ ì—…ë°ì´íŠ¸
- `POST /api/manager/files/upload` - íŒŒì¼ ì—…ë¡œë“œ

### Admin API

- `GET /api/admin/stats` - í†µê³„ ë°ì´í„°
- `POST /api/admin/dispatch/projects` - í”„ë¡œì íŠ¸ ë°°ì •
- `GET /api/admin/revenue` - ë§¤ì¶œ ë°ì´í„°
- `POST /api/admin/cleanup-old-files` - íŒŒì¼ ì •ë¦¬

---

## ğŸ”’ ì¸ì¦ ë° ê¶Œí•œ ì‹œìŠ¤í…œ

### ì—­í•  (Role) êµ¬ì¡°

1. **free**: ë¬´ë£Œ ì‚¬ìš©ì (ê¸°ë³¸)
   - ì›” 30íšŒ AI ë¶„ì„ ì œí•œ
   - ê¸°ë³¸ ê¸°ëŠ¥ ì ‘ê·¼

2. **pro**: ìœ ë£Œ ì‚¬ìš©ì ($199/ì›”)
   - ë¬´ì œí•œ AI ë¶„ì„
   - ë§¤ë‹ˆì € ì—°ê²°
   - í”„ë¡œì íŠ¸ ì‹¤í–‰ ì§€ì›

3. **manager**: ë§¤ë‹ˆì €
   - @nexsupply.net ì´ë©”ì¼ ë„ë©”ì¸
   - í´ë¼ì´ì–¸íŠ¸ í”„ë¡œì íŠ¸ ê´€ë¦¬
   - ì±„íŒ… ì ‘ê·¼

4. **admin**: ê´€ë¦¬ì
   - ë§¤ë‹ˆì € ê¸°ëŠ¥ + ì¼ë¶€ Admin ê¸°ëŠ¥

5. **super_admin**: Super Admin
   - ëª¨ë“  ê¸°ëŠ¥ ì ‘ê·¼
   - í”„ë¡œì íŠ¸ ë°°ì •
   - ì‚¬ìš©ì ê´€ë¦¬
   - ë§¤ì¶œ í†µê³„

### ìë™ ë¦¬ë‹¤ì´ë ‰íŠ¸

ë¯¸ë“¤ì›¨ì–´ì—ì„œ ì´ë©”ì¼ ë„ë©”ì¸ ê¸°ë°˜ ìë™ ë¦¬ë‹¤ì´ë ‰íŠ¸:

- `@nexsupply.net` â†’ `/manager/dashboard`
- `k.myungjun@nexsupply.net` â†’ `/admin`
- ì¼ë°˜ ì‚¬ìš©ì â†’ `/dashboard`

### ë¯¸ë“¤ì›¨ì–´ ë³´í˜¸

ìœ„ì¹˜: `web/middleware.ts`

- `/admin/*`: `super_admin`ë§Œ ì ‘ê·¼ ê°€ëŠ¥
- `/manager/*`: `manager` ë˜ëŠ” `admin`ë§Œ ì ‘ê·¼ ê°€ëŠ¥
- `/dashboard/*`: ë¡œê·¸ì¸ í•„ìš”

---

## ğŸ“ íŒŒì¼ ê´€ë¦¬ ì‹œìŠ¤í…œ

### íŒŒì¼ ë¼ì´ë¸ŒëŸ¬ë¦¬ (Asset Library)

ìœ„ì¹˜: `web/components/AssetLibrary.tsx`

ê¸°ëŠ¥:
- í”„ë¡œì íŠ¸ë³„ íŒŒì¼ ê´€ë¦¬
- ì¹´í…Œê³ ë¦¬ë³„ í•„í„°ë§
  - Quotes (ê²¬ì )
  - Invoices (ì†¡ì¥)
  - QC Reports (QC ë¦¬í¬íŠ¸)
  - Samples (ìƒ˜í”Œ)
  - ê¸°íƒ€

### ìë™ íŒŒì¼ ì •ë¦¬

- **ëª©ì **: ì €ì¥ ê³µê°„ ì ˆì•½
- **ëŒ€ìƒ**: 6ê°œì›” ì´ìƒ ì§€ë‚œ ì±„íŒ… íŒŒì¼/ì´ë¯¸ì§€
- **ìœ ì§€**: í…ìŠ¤íŠ¸ ë©”ì‹œì§€ëŠ” ìœ ì§€, íŒŒì¼ë§Œ ì‚­ì œ
- **ì‹¤í–‰**: ë§¤ì¼ ì˜¤ì „ 2ì‹œ (Vercel Cron)
- **API**: `/api/cron/cleanup-old-files`

### íŒŒì¼ ì—…ë¡œë“œ

- **ì œí•œ**: íŒŒì¼ í¬ê¸°, íƒ€ì… ì œí•œ ì„¤ì • ê°€ëŠ¥
- **ì €ì¥ì†Œ**: Supabase Storage (`chat-files` ë²„í‚·)
- **ì ‘ê·¼**: Signed URLì„ í†µí•œ ë¹„ê³µê°œ ì ‘ê·¼

---

## ğŸš¨ ë¬¸ì œ í•´ê²° ê°€ì´ë“œ

### ì¼ë°˜ì ì¸ ë¬¸ì œ

#### 1. Supabase ì—°ê²° ì˜¤ë¥˜

**ì¦ìƒ**: APIì—ì„œ Supabase ì—°ê²° ì‹¤íŒ¨

**í•´ê²° ë°©ë²•**:
- í™˜ê²½ ë³€ìˆ˜ í™•ì¸ (`NEXT_PUBLIC_SUPABASE_URL`, `NEXT_PUBLIC_SUPABASE_ANON_KEY`)
- Service Role Key í™•ì¸ (`SUPABASE_SERVICE_ROLE_KEY`)
- Supabase í”„ë¡œì íŠ¸ ìƒíƒœ í™•ì¸

#### 2. ë¹Œë“œ ì‹¤íŒ¨

**ì¦ìƒ**: `npm run build` ì‹¤íŒ¨

**í•´ê²° ë°©ë²•**:
```bash
# ì˜ì¡´ì„± ì¬ì„¤ì¹˜
rm -rf node_modules package-lock.json
npm install --legacy-peer-deps

# Node.js ë²„ì „ í™•ì¸ (18+ í•„ìš”)
node --version
```

#### 3. íŒŒì¼ ì—…ë¡œë“œ ì‹¤íŒ¨

**ì¦ìƒ**: ì±„íŒ…ì—ì„œ íŒŒì¼ ì—…ë¡œë“œ ì‹¤íŒ¨

**í•´ê²° ë°©ë²•**:
- Supabase Storage ë²„í‚· ìƒì„± í™•ì¸ (`chat-files`)
- Storage RLS ì •ì±… í™•ì¸
- íŒŒì¼ í¬ê¸° ì œí•œ í™•ì¸

#### 4. Vercel ë°°í¬ ì‹¤íŒ¨

**ì¦ìƒ**: Vercelì—ì„œ ë°°í¬ ì‹¤íŒ¨

**í•´ê²° ë°©ë²•**:
- Root Directoryê°€ `web`ìœ¼ë¡œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸
- ëª¨ë“  í™˜ê²½ ë³€ìˆ˜ê°€ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸
- ë¹Œë“œ ë¡œê·¸ í™•ì¸

#### 5. AI ë¶„ì„ ì‹¤íŒ¨

**ì¦ìƒ**: `/api/analyze-product` ì—ëŸ¬

**í•´ê²° ë°©ë²•**:
- `GEMINI_API_KEY` í™˜ê²½ ë³€ìˆ˜ í™•ì¸
- API í‚¤ í• ë‹¹ëŸ‰ í™•ì¸
- ë¸”ë™ë¦¬ìŠ¤íŠ¸ ì²´í¬ (ì˜ë„ëœ ì°¨ë‹¨ì¼ ìˆ˜ ìˆìŒ)

#### 6. ì‹¤ì‹œê°„ ì±„íŒ…ì´ ì‘ë™í•˜ì§€ ì•ŠìŒ

**ì¦ìƒ**: ë©”ì‹œì§€ê°€ ì‹¤ì‹œê°„ìœ¼ë¡œ ì „ë‹¬ë˜ì§€ ì•ŠìŒ

**í•´ê²° ë°©ë²•**:
- Supabase Realtime í™œì„±í™” í™•ì¸
- `chat_messages` í…Œì´ë¸” Replication í™œì„±í™” í™•ì¸
- ë¸Œë¼ìš°ì € ì½˜ì†” ì—ëŸ¬ í™•ì¸

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ

### ë¡œì»¬ í…ŒìŠ¤íŠ¸

1. **ê°œë°œ ì„œë²„ ì‹¤í–‰**
   ```bash
   npm run dev
   ```

2. **ì£¼ìš” í”Œë¡œìš° í…ŒìŠ¤íŠ¸**
   - íšŒì›ê°€ì…/ë¡œê·¸ì¸
   - AI ë¶„ì„ ì‹¤í–‰
   - í”„ë¡œì íŠ¸ ìƒì„±
   - ì±„íŒ… ì „ì†¡
   - íŒŒì¼ ì—…ë¡œë“œ

3. **ê¶Œí•œ í…ŒìŠ¤íŠ¸**
   - ì¼ë°˜ ì‚¬ìš©ì: `/dashboard` ì ‘ê·¼
   - ë§¤ë‹ˆì €: `/manager/dashboard` ì ‘ê·¼
   - Admin: `/admin` ì ‘ê·¼

### API í…ŒìŠ¤íŠ¸

Postman ë˜ëŠ” curlì„ ì‚¬ìš©í•œ API í…ŒìŠ¤íŠ¸:

```bash
# í”„ë¡œì íŠ¸ ëª©ë¡ ì¡°íšŒ
curl http://localhost:3000/api/projects \
  -H "Authorization: Bearer YOUR_TOKEN"

# AI ë¶„ì„ ì‹¤í–‰
curl -X POST http://localhost:3000/api/analyze-product \
  -H "Content-Type: application/json" \
  -d '{"product_idea": "silicone baby teether"}'
```

---

## ğŸ“š ì£¼ìš” ë¬¸ì„œ ìœ„ì¹˜

### í”„ë¡œì íŠ¸ ë¬¸ì„œ

- `web/docs/COMPLETE_HANDOVER_DOCUMENT.md` - ì™„ì „ ì¸ìˆ˜ì¸ê³„ ë¬¸ì„œ
- `web/docs/PROJECT_STATUS_AND_SPEC.md` - í”„ë¡œì íŠ¸ í˜„í™© ë° ìŠ¤í™
- `web/docs/SUPER_ADMIN_COMPLETE.md` - Super Admin ê°€ì´ë“œ
- `web/docs/MANAGER_WORKSTATION_COMPLETE.md` - ë§¤ë‹ˆì € ì›Œí¬ìŠ¤í…Œì´ì…˜ ê°€ì´ë“œ
- `web/docs/CHAT_FILE_CLEANUP_COMPLETE.md` - íŒŒì¼ ì •ë¦¬ ì‹œìŠ¤í…œ
- `web/docs/CLIENT_CHAT_ACCESS_COMPLETE.md` - í´ë¼ì´ì–¸íŠ¸ ì±„íŒ… ì ‘ê·¼

### ì™¸ë¶€ ë¦¬ì†ŒìŠ¤

- [Next.js ë¬¸ì„œ](https://nextjs.org/docs)
- [Supabase ë¬¸ì„œ](https://supabase.com/docs)
- [Vercel ë¬¸ì„œ](https://vercel.com/docs)
- [Google Gemini API ë¬¸ì„œ](https://ai.google.dev/docs)
- [Lemon Squeezy API ë¬¸ì„œ](https://docs.lemonsqueezy.com)

---

## ğŸ¯ ê°œë°œ ê°€ì´ë“œë¼ì¸

### ì½”ë“œ ìŠ¤íƒ€ì¼

- **ì–¸ì–´**: TypeScript 100% ì‚¬ìš©
- **ì»´í¬ë„ŒíŠ¸**: í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸
- **ìŠ¤íƒ€ì¼ë§**: Tailwind CSS
- **í¬ë§·íŒ…**: ESLint ì„¤ì • ì¤€ìˆ˜

### ë¸Œëœì¹˜ ì „ëµ

- `main`: í”„ë¡œë•ì…˜ ë¸Œëœì¹˜
- `develop`: ê°œë°œ ë¸Œëœì¹˜ (ìˆëŠ” ê²½ìš°)
- ê¸°ëŠ¥ë³„ ë¸Œëœì¹˜: `feature/feature-name`

### ì»¤ë°‹ ë©”ì‹œì§€ ì»¨ë²¤ì…˜

```
feat: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€
fix: ë²„ê·¸ ìˆ˜ì •
docs: ë¬¸ì„œ ìˆ˜ì •
refactor: ë¦¬íŒ©í† ë§
chore: ë¹Œë“œ ì—…ë¬´ ìˆ˜ì •
style: ì½”ë“œ í¬ë§·íŒ…
test: í…ŒìŠ¤íŠ¸ ì¶”ê°€/ìˆ˜ì •
```

### ì½”ë“œ ë¦¬ë·° ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] TypeScript íƒ€ì… ì˜¤ë¥˜ ì—†ìŒ
- [ ] ESLint ê²½ê³  ì—†ìŒ
- [ ] í™˜ê²½ ë³€ìˆ˜ í™•ì¸
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ í•„ìš” ì‹œ ë¬¸ì„œí™”
- [ ] API ì—”ë“œí¬ì¸íŠ¸ ë¬¸ì„œí™”
- [ ] ì—ëŸ¬ í•¸ë“¤ë§ êµ¬í˜„
- [ ] ë³´ì•ˆ ê²€í†  (RLS, ì¸ì¦ ë“±)

---

## ğŸ”® í–¥í›„ ê°œë°œ ë¡œë“œë§µ

### ë‹¨ê¸° (1-2ì£¼)

- [ ] UI í…ìŠ¤íŠ¸ ì˜ì–´í™” ì™„ë£Œ
- [ ] ì—ëŸ¬ í•¸ë“¤ë§ ê°•í™”
- [ ] ë¡œë”© ìƒíƒœ ê°œì„ 
- [ ] ëª¨ë°”ì¼ ë°˜ì‘í˜• ê°œì„ 

### ì¤‘ê¸° (1-2ê°œì›”)

- [ ] ì‹¤ì‹œê°„ ë¸Œë¼ìš°ì € ì•Œë¦¼ (Web Push)
- [ ] íŒŒì¼ ë¯¸ë¦¬ë³´ê¸° ê¸°ëŠ¥
- [ ] ê²€ìƒ‰ ê¸°ëŠ¥ ê°•í™”
- [ ] Analytics ëŒ€ì‹œë³´ë“œ ê°œì„ 

### ì¥ê¸° (3-6ê°œì›”)

- [ ] ë‹¤êµ­ì–´ ì§€ì› (i18n)
- [ ] ê³ ê¸‰ ë¶„ì„ ê¸°ëŠ¥ (ê²½ìŸì‚¬ ë¶„ì„ ë“±)
- [ ] ëª¨ë°”ì¼ ì•± (React Native)
- [ ] AI ëª¨ë¸ Fine-tuning
- [ ] ìë™í™” ì›Œí¬í”Œë¡œìš°

---

## âœ… ì‹ ì… ê°œë°œì ì˜¨ë³´ë”© ì²´í¬ë¦¬ìŠ¤íŠ¸

### 1ì£¼ì°¨: í™˜ê²½ ì„¤ì • ë° í•™ìŠµ

- [ ] í”„ë¡œì íŠ¸ í´ë¡  ì™„ë£Œ
- [ ] ë¡œì»¬ ê°œë°œ í™˜ê²½ ì„¤ì • ì™„ë£Œ
- [ ] ëª¨ë“  í™˜ê²½ ë³€ìˆ˜ ì„¤ì • ì™„ë£Œ
- [ ] ê°œë°œ ì„œë²„ ì‹¤í–‰ ì„±ê³µ
- [ ] Supabase ì ‘ê·¼ ê¶Œí•œ íšë“
- [ ] í”„ë¡œì íŠ¸ êµ¬ì¡° ì´í•´
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì´í•´

### 2ì£¼ì°¨: ì½”ë“œë² ì´ìŠ¤ íƒìƒ‰

- [ ] ì£¼ìš” í˜ì´ì§€ ëª¨ë‘ íƒìƒ‰
- [ ] ì£¼ìš” API ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸
- [ ] ì»´í¬ë„ŒíŠ¸ êµ¬ì¡° ì´í•´
- [ ] ìƒíƒœ ê´€ë¦¬ íŒ¨í„´ ì´í•´
- [ ] ì¸ì¦/ê¶Œí•œ ì‹œìŠ¤í…œ ì´í•´

### 3ì£¼ì°¨: ì²« ì‘ì—… ì‹œì‘

- [ ] ì‘ì€ ë²„ê·¸ ìˆ˜ì • ì™„ë£Œ
- [ ] ì‘ì€ ê¸°ëŠ¥ ì¶”ê°€ ì™„ë£Œ
- [ ] ì½”ë“œ ë¦¬ë·° ì°¸ì—¬
- [ ] ë¬¸ì„œ ì‘ì„± ê²½í—˜

### 4ì£¼ì°¨: ë…ë¦½ ì‘ì—…

- [ ] ì¤‘ê°„ ê·œëª¨ ê¸°ëŠ¥ ê°œë°œ ì‹œì‘
- [ ] í…ŒìŠ¤íŠ¸ ì‘ì„±
- [ ] ë°°í¬ í”„ë¡œì„¸ìŠ¤ ì´í•´

---

## ğŸ“ ì§€ì› ë° ì—°ë½ì²˜

### ê°œë°œ ê´€ë ¨

- **ì €ì¥ì†Œ**: GitHub Repository
- **ë°°í¬**: Vercel Dashboard
- **ë°ì´í„°ë² ì´ìŠ¤**: Supabase Dashboard
- **ê²°ì œ**: Lemon Squeezy Dashboard

### ë¬¸ì„œê°€ ë¶€ì¡±í•œ ê²½ìš°

1. ê¸°ì¡´ ê°œë°œìì—ê²Œ ë¬¸ì˜
2. GitHub Issuesì— ì§ˆë¬¸ ë“±ë¡
3. ê´€ë ¨ ë¬¸ì„œ ê²€ìƒ‰ (`web/docs/` ë””ë ‰í† ë¦¬)

---

## ğŸ“ ë³€ê²½ ì´ë ¥

| ë‚ ì§œ | ë²„ì „ | ë³€ê²½ ë‚´ìš© | ì‘ì„±ì |
|------|------|----------|--------|
| 2024-12 | 2.0.0 | ì¢…í•© ì¸ìˆ˜ì¸ê³„ ë¬¸ì„œ ì‘ì„± | AI Assistant |

---

**ë¬¸ì„œ ì‘ì„±ì**: AI Assistant  
**ìµœì¢… ì—…ë°ì´íŠ¸**: 2024ë…„ 12ì›”  
**ë¬¸ì„œ ë²„ì „**: 2.0.0

---

ì´ ë¬¸ì„œëŠ” Nexi.ai (NexSupply) í”„ë¡œì íŠ¸ì˜ ì™„ì „í•œ ì¸ìˆ˜ì¸ê³„ ê°€ì´ë“œì…ë‹ˆë‹¤. 
í”„ë¡œì íŠ¸ì— ëŒ€í•œ ëª¨ë“  ì¤‘ìš”í•œ ì •ë³´ë¥¼ í¬í•¨í•˜ê³  ìˆìœ¼ë©°, ì‹ ì… ê°œë°œìê°€ ì¦‰ì‹œ ì‘ì—…ì„ ì‹œì‘í•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

ë¬¸ì˜ì‚¬í•­ì´ë‚˜ ê°œì„  ì‚¬í•­ì´ ìˆë‹¤ë©´ GitHub Issuesì— ë“±ë¡í•´ì£¼ì„¸ìš”.
