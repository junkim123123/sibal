# NexSupply í”Œë«í¼ ì™„ì „ ì¸ìˆ˜ì¸ê³„ ë¬¸ì„œ

## ğŸ“‹ ë¬¸ì„œ ê°œìš”

ì´ ë¬¸ì„œëŠ” NexSupply í”Œë«í¼ì˜ **ì™„ì „í•œ ì¸ìˆ˜ì¸ê³„ ê°€ì´ë“œ**ì…ë‹ˆë‹¤. ì‹ ì… ê°œë°œìê°€ í”„ë¡œì íŠ¸ë¥¼ ì´í•´í•˜ê³  ì¦‰ì‹œ ì‘ì—…ì„ ì‹œì‘í•  ìˆ˜ ìˆë„ë¡ ëª¨ë“  í•„ìš”í•œ ì •ë³´ë¥¼ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.

**ì‘ì„±ì¼**: 2024ë…„ 12ì›”  
**ë²„ì „**: 1.0.0  
**ëŒ€ìƒ**: ì‹ ì… ê°œë°œì, ìƒˆë¡œìš´ íŒ€ì›

---

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

### í•œ ì¤„ ì •ì˜
> **NexSupply**ëŠ” AI ê¸°ë°˜ B2B ì†Œì‹± ì¸í…”ë¦¬ì „ìŠ¤ í”Œë«í¼ìœ¼ë¡œ, ì¤‘ì†Œ ì…€ëŸ¬/ë¦¬í…Œì¼ëŸ¬ê°€ ì•ˆì „í•˜ê²Œ í•´ì™¸ ì†Œì‹±ì„ ì‹œì‘í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ë§¤ë‹ˆì§€ë“œ ì†Œì‹± í”Œë«í¼ì…ë‹ˆë‹¤.

### í•µì‹¬ ê°€ì¹˜
1. **AI ë¶„ì„ ì—”ì§„**: Gemini 2.5 Flashë¥¼ í™œìš©í•œ Landed Cost ê³„ì‚° ë° ë¦¬ìŠ¤í¬ í‰ê°€
2. **ì‹¤ì‹œê°„ ì±„íŒ…**: ë§¤ë‹ˆì €ì™€ í´ë¼ì´ì–¸íŠ¸ ê°„ ì‹¤ì‹œê°„ ì†Œí†µ ì‹œìŠ¤í…œ
3. **í”„ë¡œì íŠ¸ ê´€ë¦¬**: ì†Œì‹± í”„ë¡œì íŠ¸ ì „ì²´ ìƒëª…ì£¼ê¸° ê´€ë¦¬
4. **ê²°ì œ ì‹œìŠ¤í…œ**: Lemon Squeezy í†µí•© ìœ ë£Œ êµ¬ë… ëª¨ë¸

### ë¹„ì¦ˆë‹ˆìŠ¤ ëª¨ë¸
- **ë¬´ë£Œ í‹°ì–´ (Free)**: ê¸°ë³¸ AI ë¶„ì„ ì œê³µ
- **í”„ë¡œ í‹°ì–´ (Pro)**: $199/ì›” - ì „ë¬¸ ë§¤ë‹ˆì € ì—°ê²° ë° ì‹¤í–‰ ì§€ì›

---

## ğŸ—ï¸ ê¸°ìˆ  ìŠ¤íƒ

### Frontend
- **Framework**: Next.js 15.1.0 (App Router)
- **ì–¸ì–´**: TypeScript
- **ìŠ¤íƒ€ì¼ë§**: Tailwind CSS
- **UI ì»´í¬ë„ŒíŠ¸**: 
  - Radix UI
  - Lucide React (ì•„ì´ì½˜)
  - Framer Motion (ì• ë‹ˆë©”ì´ì…˜)

### Backend
- **ëŸ°íƒ€ì„**: Node.js
- **API**: Next.js API Routes
- **ì„œë²„ ì•¡ì…˜**: Next.js Server Actions

### ë°ì´í„°ë² ì´ìŠ¤ & ì¸ì¦
- **Database**: Supabase (PostgreSQL)
- **ì¸ì¦**: Supabase Auth
- **ì‹¤ì‹œê°„**: Supabase Realtime
- **Storage**: Supabase Storage

### AI & ì™¸ë¶€ ì„œë¹„ìŠ¤
- **AI ëª¨ë¸**: Google Gemini 2.5 Flash
- **ê²°ì œ**: Lemon Squeezy
- **ì´ë©”ì¼**: Nodemailer + Google SMTP
- **Analytics**: Vercel Analytics

### ë°°í¬ & ì¸í”„ë¼
- **í˜¸ìŠ¤íŒ…**: Vercel
- **CI/CD**: GitHub + Vercel ìë™ ë°°í¬
- **í™˜ê²½ ë³€ìˆ˜**: Vercel í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
nexi.ai/
â”œâ”€â”€ web/                          # Next.js ì•± (ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜)
â”‚   â”œâ”€â”€ app/                      # App Router í˜ì´ì§€ ë° API
â”‚   â”‚   â”œâ”€â”€ (marketing)/          # ë§ˆì¼€íŒ… í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/        # í´ë¼ì´ì–¸íŠ¸ ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â”‚   â”œâ”€â”€ pricing/          # ê°€ê²© í˜ì´ì§€
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ admin/                # Super Admin í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ dispatch/         # í”„ë¡œì íŠ¸ ë°°ì •
â”‚   â”‚   â”‚   â”œâ”€â”€ users/            # ì‚¬ìš©ì ê´€ë¦¬
â”‚   â”‚   â”‚   â””â”€â”€ revenue/          # ë§¤ì¶œ ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â”œâ”€â”€ manager/              # ë§¤ë‹ˆì € í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/        # ë§¤ë‹ˆì € ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â”‚   â””â”€â”€ workstation/      # ì‘ì—… ê³µê°„
â”‚   â”‚   â”œâ”€â”€ api/                  # API ì—”ë“œí¬ì¸íŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ analyze/          # AI ë¶„ì„
â”‚   â”‚   â”‚   â”œâ”€â”€ chat-sessions/    # ì±„íŒ… ì„¸ì…˜
â”‚   â”‚   â”‚   â”œâ”€â”€ payment/          # ê²°ì œ ì²˜ë¦¬
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ chat/                 # AI ì±„íŒ… ì¸í„°í˜ì´ìŠ¤
â”‚   â”‚   â”œâ”€â”€ login/                # ë¡œê·¸ì¸/íšŒì›ê°€ì…
â”‚   â”‚   â””â”€â”€ results/              # ë¶„ì„ ê²°ê³¼ í˜ì´ì§€
â”‚   â”œâ”€â”€ components/               # ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ ManagerChat.tsx       # ì±„íŒ… ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ ClientMessagesList.tsx
â”‚   â”‚   â”œâ”€â”€ AssetLibrary.tsx      # íŒŒì¼ ë¼ì´ë¸ŒëŸ¬ë¦¬
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ lib/                      # ìœ í‹¸ë¦¬í‹° ë° í—¬í¼
â”‚   â”‚   â”œâ”€â”€ supabase/             # Supabase í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ email/                # ì´ë©”ì¼ ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ supabase/                 # ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
â”‚   â”‚   â”œâ”€â”€ schema.sql            # ê¸°ë³¸ ìŠ¤í‚¤ë§ˆ
â”‚   â”‚   â”œâ”€â”€ schema_extensions.sql
â”‚   â”‚   â”œâ”€â”€ super_admin_schema.sql
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ docs/                     # ë¬¸ì„œ
â”œâ”€â”€ vercel.json                   # Vercel ì„¤ì •
â””â”€â”€ README.md
```

---

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### í•µì‹¬ í…Œì´ë¸”

#### 1. `profiles` (ì‚¬ìš©ì í”„ë¡œí•„)
```sql
- id: UUID (Primary Key, auth.users ì°¸ì¡°)
- email: TEXT (Unique)
- name: TEXT
- company: TEXT
- role: TEXT ('free', 'pro', 'manager', 'admin', 'super_admin')
- is_manager: BOOLEAN
- workload_score: INTEGER (ë§¤ë‹ˆì € ì‘ì—…ëŸ‰)
- is_banned: BOOLEAN
- total_spend: NUMERIC
- created_at: TIMESTAMPTZ
```

#### 2. `projects` (í”„ë¡œì íŠ¸)
```sql
- id: UUID (Primary Key)
- user_id: UUID (Foreign Key â†’ profiles.id)
- manager_id: UUID (Foreign Key â†’ profiles.id, nullable)
- name: TEXT
- status: TEXT ('active', 'completed', 'archived', 'in_progress')
- initial_risk_score: NUMERIC
- total_landed_cost: NUMERIC
- current_milestone_index: INTEGER
- milestones: JSONB
- dispatched_at: TIMESTAMPTZ
- created_at: TIMESTAMPTZ
```

#### 3. `chat_sessions` (ì±„íŒ… ì„¸ì…˜)
```sql
- id: UUID (Primary Key)
- project_id: UUID (Foreign Key â†’ projects.id)
- user_id: UUID (Foreign Key â†’ profiles.id)
- manager_id: UUID (Foreign Key â†’ profiles.id, nullable)
- status: TEXT ('open', 'in_progress', 'resolved', 'closed')
- created_at: TIMESTAMPTZ
```

#### 4. `chat_messages` (ì±„íŒ… ë©”ì‹œì§€)
```sql
- id: UUID (Primary Key)
- session_id: UUID (Foreign Key â†’ chat_sessions.id)
- sender_id: UUID (Foreign Key â†’ profiles.id)
- role: TEXT ('user', 'manager')
- content: TEXT
- file_url: TEXT (nullable)
- file_name: TEXT (nullable)
- file_type: TEXT (nullable)
- read_at: TIMESTAMPTZ (nullable)
- created_at: TIMESTAMPTZ
```

#### 5. `messages` (AI ë¶„ì„ ë©”ì‹œì§€)
```sql
- id: UUID (Primary Key)
- project_id: UUID (Foreign Key â†’ projects.id)
- role: TEXT ('user', 'ai')
- content: TEXT
- timestamp: TIMESTAMPTZ
```

### ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì • ë°©ë²•

1. **Supabase í”„ë¡œì íŠ¸ ìƒì„±**
   - [supabase.com](https://supabase.com)ì—ì„œ ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±

2. **ìŠ¤í‚¤ë§ˆ ì‹¤í–‰**
   - Supabase ëŒ€ì‹œë³´ë“œ â†’ SQL Editor
   - ë‹¤ìŒ ìˆœì„œë¡œ SQL íŒŒì¼ ì‹¤í–‰:
     1. `web/supabase/schema.sql`
     2. `web/supabase/schema_extensions.sql`
     3. `web/supabase/manager_schema_extensions.sql`
     4. `web/supabase/super_admin_schema.sql`
     5. `web/supabase/chat_sessions_schema.sql`
     6. `web/supabase/email_notifications_schema.sql`

3. **Storage ë²„í‚· ìƒì„±**
   - Storage â†’ Create Bucket
   - ì´ë¦„: `chat-files`
   - Public: false (ë¹„ê³µê°œ)

4. **Realtime í™œì„±í™”**
   - Database â†’ Replication
   - `chat_messages` í…Œì´ë¸” í™œì„±í™”

---

## ğŸ” í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

### í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜

```env
# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# Google Gemini AI
GEMINI_API_KEY=your-gemini-api-key
GEMINI_CUSTOM_MODEL_ID=your-custom-model-id (ì„ íƒì‚¬í•­)

# Lemon Squeezy (ê²°ì œ)
LEMONSQUEEZY_API_KEY=your-lemonsqueezy-api-key
LEMONSQUEEZY_STORE_ID=your-store-id
LEMONSQUEEZY_WEBHOOK_SECRET=your-webhook-secret
LEMON_SQUEEZY_STORE_URL=https://your-store.lemonsqueezy.com/checkout/buy/your-product-id

# Email (Google SMTP)
GMAIL_USER=your-email@nexsupply.net
GMAIL_APP_PASSWORD=your-app-password

# íŒŒì¼ ì •ë¦¬ (ì„ íƒì‚¬í•­)
CLEANUP_API_KEY=your-cleanup-secret-key
CRON_SECRET=your-cron-secret

# NextAuth (ì„ íƒì‚¬í•­)
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your-nextauth-secret
```

### Vercel í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

1. Vercel ëŒ€ì‹œë³´ë“œ â†’ í”„ë¡œì íŠ¸ ì„ íƒ
2. Settings â†’ Environment Variables
3. ìœ„ì˜ ëª¨ë“  í™˜ê²½ ë³€ìˆ˜ ì¶”ê°€ (Production, Preview, Development)

---

## ğŸš€ ë¡œì»¬ ê°œë°œ í™˜ê²½ ì„¤ì •

### 1. í•„ìˆ˜ ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ì¹˜

```bash
# Node.js 18+ ì„¤ì¹˜ í™•ì¸
node --version

# npm ë˜ëŠ” yarn ì„¤ì¹˜ í™•ì¸
npm --version
```

### 2. í”„ë¡œì íŠ¸ í´ë¡  ë° ì„¤ì •

```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone <repository-url>
cd nexi.ai

# web ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd web

# ì˜ì¡´ì„± ì„¤ì¹˜
npm install --legacy-peer-deps

# í™˜ê²½ ë³€ìˆ˜ íŒŒì¼ ìƒì„±
cp .env.example .env.local
# .env.local íŒŒì¼ì— ëª¨ë“  í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
```

### 3. ê°œë°œ ì„œë²„ ì‹¤í–‰

```bash
# ê°œë°œ ì„œë²„ ì‹œì‘
npm run dev

# ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:3000 ì ‘ì†
```

### 4. ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜

Supabase ëŒ€ì‹œë³´ë“œì—ì„œ SQL íŒŒì¼ë“¤ì„ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰ (ìœ„ "ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì • ë°©ë²•" ì°¸ì¡°)

---

## ğŸŒ ì£¼ìš” ê¸°ëŠ¥ ë° í˜ì´ì§€

### 1. í´ë¼ì´ì–¸íŠ¸ ê¸°ëŠ¥

#### ëŒ€ì‹œë³´ë“œ (`/dashboard`)
- í”„ë¡œì íŠ¸ ëª©ë¡
- ë©”ì‹œì§€ ëª©ë¡ (ë§¤ë‹ˆì €ì™€ì˜ ì±„íŒ…)
- íŒŒì¼ ë¼ì´ë¸ŒëŸ¬ë¦¬
- ë¶„ì„ ê²°ê³¼

#### AI ë¶„ì„ í”Œë¡œìš°
1. `/chat` - AIì™€ ëŒ€í™”í•˜ì—¬ í”„ë¡œì íŠ¸ ì •ë³´ ìˆ˜ì§‘
2. `/results` - AI ë¶„ì„ ê²°ê³¼ í™•ì¸
3. `/dashboard/chat` - ë§¤ë‹ˆì €ì™€ ì‹¤ì‹œê°„ ì±„íŒ…

### 2. ë§¤ë‹ˆì € ê¸°ëŠ¥

#### ë§¤ë‹ˆì € ëŒ€ì‹œë³´ë“œ (`/manager/dashboard`)
- í• ë‹¹ëœ í”„ë¡œì íŠ¸ ëª©ë¡
- KPI ì¹´ë“œ (Active Clients, Revenue, ë“±)

#### ì‘ì—… ê³µê°„ (`/manager/workstation`)
- í´ë¼ì´ì–¸íŠ¸ ë¦¬ìŠ¤íŠ¸
- ì‹¤ì‹œê°„ ì±„íŒ…
- ë§ˆì¼ìŠ¤í†¤ ê´€ë¦¬
- íŒŒì¼ ê´€ë¦¬

### 3. Super Admin ê¸°ëŠ¥

#### Admin ëŒ€ì‹œë³´ë“œ (`/admin`)
- ë¯¸ë°°ì • í”„ë¡œì íŠ¸ ìˆ˜
- í™œì„± í”„ë¡œì íŠ¸ ìˆ˜
- ì´ ë§¤ì¶œ
- ë§¤ë‹ˆì € ê°€ë™ë¥ 

#### í”„ë¡œì íŠ¸ ë°°ì • (`/admin/dispatch`)
- ë¯¸ë°°ì • í”„ë¡œì íŠ¸ ëª©ë¡
- ë§¤ë‹ˆì € í’€
- í”„ë¡œì íŠ¸ ë°°ì • ê¸°ëŠ¥

#### ì‚¬ìš©ì ê´€ë¦¬ (`/admin/users`)
- ì‚¬ìš©ì ëª©ë¡
- ì‚¬ìš©ì ì°¨ë‹¨/í•´ì œ
- ê°•ì œ í™˜ë¶ˆ

---

## ğŸ”„ ì‚¬ìš©ì í”Œë¡œìš°

### 1. ì‹ ê·œ ì‚¬ìš©ì í”Œë¡œìš°

```
1. ëœë”© í˜ì´ì§€ ì ‘ì†
2. ê°€ê²© í˜ì´ì§€ í™•ì¸
3. ë¬´ë£Œë¡œ ì‹œì‘ (íšŒì›ê°€ì…)
4. AI ë¶„ì„ ì‹œì‘ (/chat)
5. ë¶„ì„ ê²°ê³¼ í™•ì¸ (/results)
6. í”„ë¡œ ê²°ì œ ($199)
7. ë§¤ë‹ˆì € ë°°ì • ëŒ€ê¸°
8. ë§¤ë‹ˆì €ì™€ ì±„íŒ… ì‹œì‘
```

### 2. ë§¤ë‹ˆì € í”Œë¡œìš°

```
1. @nexsupply.net ì´ë©”ì¼ë¡œ ë¡œê·¸ì¸
2. ìë™ìœ¼ë¡œ /manager/dashboardë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
3. í• ë‹¹ëœ í”„ë¡œì íŠ¸ í™•ì¸
4. /manager/workstationì—ì„œ í´ë¼ì´ì–¸íŠ¸ ì„ íƒ
5. ì‹¤ì‹œê°„ ì±„íŒ… ë° í”„ë¡œì íŠ¸ ê´€ë¦¬
```

### 3. Super Admin í”Œë¡œìš°

```
1. k.myungjun@nexsupply.netìœ¼ë¡œ ë¡œê·¸ì¸
2. ìë™ìœ¼ë¡œ /adminìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
3. ëŒ€ì‹œë³´ë“œì—ì„œ ì „ì²´ í˜„í™© í™•ì¸
4. /admin/dispatchì—ì„œ í”„ë¡œì íŠ¸ ë°°ì •
5. /admin/usersì—ì„œ ì‚¬ìš©ì ê´€ë¦¬
```

---

## ğŸ”‘ ì¸ì¦ ë° ê¶Œí•œ ì‹œìŠ¤í…œ

### ì—­í•  (Role) êµ¬ì¡°

1. **free**: ë¬´ë£Œ ì‚¬ìš©ì (ê¸°ë³¸)
2. **pro**: ìœ ë£Œ ì‚¬ìš©ì ($199/ì›”)
3. **manager**: ë§¤ë‹ˆì € (@nexsupply.net ì´ë©”ì¼)
4. **admin**: ê´€ë¦¬ì
5. **super_admin**: Super Admin (k.myungjun@nexsupply.net)

### ìë™ ë¦¬ë‹¤ì´ë ‰íŠ¸

- `@nexsupply.net` ì´ë©”ì¼ â†’ `/manager/dashboard`
- `k.myungjun@nexsupply.net` â†’ `/admin`
- ì¼ë°˜ ì‚¬ìš©ì â†’ `/dashboard`

### ë¯¸ë“¤ì›¨ì–´ ë³´í˜¸

- `/admin/*`: `super_admin`ë§Œ ì ‘ê·¼ ê°€ëŠ¥
- `/manager/*`: `manager` ë˜ëŠ” `admin`ë§Œ ì ‘ê·¼ ê°€ëŠ¥
- `/dashboard/*`: ë¡œê·¸ì¸ í•„ìš”

---

## ğŸ’° ê²°ì œ ì‹œìŠ¤í…œ (Lemon Squeezy)

### ì›Œí¬í”Œë¡œìš°

1. **ê²°ì œ ì‹œì‘**
   - ì‚¬ìš©ìê°€ "Validator" ë²„íŠ¼ í´ë¦­
   - `/api/payment/create-checkout-url` í˜¸ì¶œ
   - Lemon Squeezy Checkout URL ìƒì„±
   - ì‚¬ìš©ì ë¦¬ë‹¤ì´ë ‰íŠ¸

2. **ê²°ì œ ì™„ë£Œ**
   - Lemon Squeezyì—ì„œ ì›¹í›… í˜¸ì¶œ
   - `/api/payment/webhook`ì—ì„œ ì²˜ë¦¬
   - HMAC ì‹œê·¸ë‹ˆì²˜ ê²€ì¦
   - `profiles.role`ì„ `'pro'`ë¡œ ì—…ë°ì´íŠ¸

3. **ë§¤ì¶œ í†µê³„**
   - `/api/admin/revenue`ì—ì„œ Lemon Squeezy API í˜¸ì¶œ
   - ì´ ì£¼ë¬¸ ìˆ˜ ë° ìµœê·¼ ì£¼ë¬¸ ì¡°íšŒ

---

## ğŸ“§ ì´ë©”ì¼ ì•Œë¦¼ ì‹œìŠ¤í…œ

### ì•Œë¦¼ ì¢…ë¥˜

1. **ë¶„ì„ ì™„ë£Œ ì•Œë¦¼** (`Analysis Completed`)
   - AI ë¶„ì„ì´ ì™„ë£Œë˜ë©´ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë°œì†¡

2. **ìƒˆ ë©”ì‹œì§€ ì•Œë¦¼** (`New Message from Manager`)
   - ë§¤ë‹ˆì €ê°€ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ë©´ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë°œì†¡
   - 1ì‹œê°„ ë‚´ ì¤‘ë³µ ì•Œë¦¼ ë°©ì§€ (Throttling)

3. **ë§ˆì¼ìŠ¤í†¤ ì—…ë°ì´íŠ¸ ì•Œë¦¼** (`Milestone Updates`)
   - í”„ë¡œì íŠ¸ ë§ˆì¼ìŠ¤í†¤ì´ ì—…ë°ì´íŠ¸ë˜ë©´ ì•Œë¦¼

### ì„¤ì •

- **SMTP**: Google SMTP ì‚¬ìš©
- **í…œí”Œë¦¿**: `web/lib/email/templates.tsx`
- **ë°œì†¡ ìœ í‹¸**: `web/lib/email/sender.ts`

---

## ğŸ“Š API ì—”ë“œí¬ì¸íŠ¸

### ë¶„ì„ API
- `POST /api/analyze` - AI ë¶„ì„ ì‹¤í–‰
- `GET /api/analyze-product` - ì œí’ˆ ë¶„ì„

### ì±„íŒ… API
- `GET /api/chat-sessions` - ì±„íŒ… ì„¸ì…˜ ëª©ë¡
- `POST /api/chat-sessions` - ìƒˆ ì±„íŒ… ì„¸ì…˜ ìƒì„±
- `POST /api/chat-messages` - ë©”ì‹œì§€ ì „ì†¡
- `POST /api/chat/upload` - íŒŒì¼ ì—…ë¡œë“œ

### ê²°ì œ API
- `GET /api/payment/create-checkout-url` - Checkout URL ìƒì„±
- `POST /api/payment/webhook` - Lemon Squeezy ì›¹í›…

### ê´€ë¦¬ì API
- `POST /api/admin/cleanup-old-files` - ì˜¤ë˜ëœ íŒŒì¼ ì‚­ì œ
- `GET /api/cron/cleanup-old-files` - Cron Job (ë§¤ì¼ ì˜¤ì „ 2ì‹œ)

### í”„ë¡œì íŠ¸ API
- `GET /api/projects` - í”„ë¡œì íŠ¸ ëª©ë¡
- `POST /api/projects` - ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±

---

## ğŸ”§ ì£¼ìš” ì»´í¬ë„ŒíŠ¸

### 1. ManagerChat
**ìœ„ì¹˜**: `web/components/ManagerChat.tsx`
- ì‹¤ì‹œê°„ ì±„íŒ… ì¸í„°í˜ì´ìŠ¤
- Supabase Realtime ì‚¬ìš©
- íŒŒì¼ ì—…ë¡œë“œ ì§€ì›
- Quick Replies (ë§¤ë‹ˆì €ìš©)

### 2. ClientMessagesList
**ìœ„ì¹˜**: `web/components/ClientMessagesList.tsx`
- í´ë¼ì´ì–¸íŠ¸ìš© ë©”ì‹œì§€ ëª©ë¡
- í”„ë¡œì íŠ¸ë³„ ì±„íŒ… ì„¸ì…˜ í‘œì‹œ
- ì½ì§€ ì•Šì€ ë©”ì‹œì§€ ë°°ì§€

### 3. AssetLibrary
**ìœ„ì¹˜**: `web/components/AssetLibrary.tsx`
- íŒŒì¼ ë¼ì´ë¸ŒëŸ¬ë¦¬
- ì¹´í…Œê³ ë¦¬ë³„ í•„í„°ë§
- Quotes, Invoices, QC Reports ë“±

### 4. MilestoneTracker
**ìœ„ì¹˜**: `web/components/MilestoneTracker.tsx`
- í”„ë¡œì íŠ¸ ë§ˆì¼ìŠ¤í†¤ íƒ€ì„ë¼ì¸
- ë§ˆì¼ìŠ¤í†¤ ì—…ë°ì´íŠ¸ ê¸°ëŠ¥

---

## ğŸ—‚ï¸ íŒŒì¼ ì •ë¦¬ ì‹œìŠ¤í…œ

### 6ê°œì›” ìë™ ì‚­ì œ

- **ëª©ì **: ì €ì¥ ê³µê°„ ì ˆì•½
- **ëŒ€ìƒ**: 6ê°œì›” ì´ìƒ ì§€ë‚œ ì±„íŒ… íŒŒì¼/ì´ë¯¸ì§€
- **ìœ ì§€**: í…ìŠ¤íŠ¸ ë©”ì‹œì§€ëŠ” ìœ ì§€, íŒŒì¼ë§Œ ì‚­ì œ
- **ì‹¤í–‰**: ë§¤ì¼ ì˜¤ì „ 2ì‹œ (Vercel Cron)
- **API**: `/api/cron/cleanup-old-files`

---

## ğŸ“ ì™„ë£Œëœ ì£¼ìš” ê¸°ëŠ¥

### âœ… ì™„ë£Œëœ ê¸°ëŠ¥ ëª©ë¡

1. **ì¸ì¦ ì‹œìŠ¤í…œ**
   - Supabase Auth í†µí•©
   - ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´
   - ìë™ ë¦¬ë‹¤ì´ë ‰íŠ¸

2. **AI ë¶„ì„ ì‹œìŠ¤í…œ**
   - Gemini 2.5 Flash í†µí•©
   - Landed Cost ê³„ì‚°
   - ë¦¬ìŠ¤í¬ í‰ê°€
   - ë¸”ë™ë¦¬ìŠ¤íŠ¸ ì²´í¬

3. **ì‹¤ì‹œê°„ ì±„íŒ…**
   - Supabase Realtime
   - íŒŒì¼ ì—…ë¡œë“œ
   - ì½ìŒ í‘œì‹œ
   - Quick Replies

4. **ë§¤ë‹ˆì € ì‹œìŠ¤í…œ**
   - ë§¤ë‹ˆì € ëŒ€ì‹œë³´ë“œ
   - ì‘ì—… ê³µê°„
   - ë§ˆì¼ìŠ¤í†¤ ê´€ë¦¬
   - í´ë¼ì´ì–¸íŠ¸ ê´€ë¦¬

5. **Super Admin**
   - í”„ë¡œì íŠ¸ ë°°ì •
   - ì‚¬ìš©ì ê´€ë¦¬
   - ë§¤ì¶œ ëŒ€ì‹œë³´ë“œ
   - Lemon Squeezy í†µí•©

6. **ê²°ì œ ì‹œìŠ¤í…œ**
   - Lemon Squeezy í†µí•©
   - ì›¹í›… ì²˜ë¦¬
   - ì—­í•  ìë™ ì—…ë°ì´íŠ¸

7. **ì´ë©”ì¼ ì•Œë¦¼**
   - ë¶„ì„ ì™„ë£Œ ì•Œë¦¼
   - ìƒˆ ë©”ì‹œì§€ ì•Œë¦¼
   - Throttling ë¡œì§

8. **íŒŒì¼ ê´€ë¦¬**
   - íŒŒì¼ ë¼ì´ë¸ŒëŸ¬ë¦¬
   - ìë™ ì •ë¦¬ ì‹œìŠ¤í…œ

9. **ë²•ì  í˜ì´ì§€**
   - Terms of Service
   - Privacy Policy
   - Refund Policy

---

## ğŸ”¨ ê°œë°œ ê°€ì´ë“œ

### ì½”ë“œ ìŠ¤íƒ€ì¼
- TypeScript ì‚¬ìš©
- ESLint ì„¤ì • ë”°ë¦„
- ì»´í¬ë„ŒíŠ¸ëŠ” í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸
- Server Components ìš°ì„  ì‚¬ìš©

### ë¸Œëœì¹˜ ì „ëµ
- `main`: í”„ë¡œë•ì…˜ ë¸Œëœì¹˜
- `develop`: ê°œë°œ ë¸Œëœì¹˜
- ê¸°ëŠ¥ë³„ ë¸Œëœì¹˜: `feature/feature-name`

### ì»¤ë°‹ ë©”ì‹œì§€
```
feat: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€
fix: ë²„ê·¸ ìˆ˜ì •
docs: ë¬¸ì„œ ìˆ˜ì •
refactor: ë¦¬íŒ©í† ë§
chore: ë¹Œë“œ ì—…ë¬´ ìˆ˜ì •
```

---

## ğŸš¨ ë¬¸ì œ í•´ê²°

### ì¼ë°˜ì ì¸ ë¬¸ì œ

1. **Supabase ì—°ê²° ì˜¤ë¥˜**
   - í™˜ê²½ ë³€ìˆ˜ í™•ì¸
   - Service Role Key í™•ì¸

2. **ë¹Œë“œ ì‹¤íŒ¨**
   - `npm install --legacy-peer-deps` ì‹¤í–‰
   - Node.js ë²„ì „ í™•ì¸ (18+)

3. **íŒŒì¼ ì—…ë¡œë“œ ì‹¤íŒ¨**
   - Storage ë²„í‚· ìƒì„± í™•ì¸
   - Storage ì •ì±… í™•ì¸

4. **Vercel ë°°í¬ ì‹¤íŒ¨**
   - Root Directoryê°€ `web`ìœ¼ë¡œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸
   - í™˜ê²½ ë³€ìˆ˜ ëª¨ë‘ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸

---

## ğŸ“š ì¶”ê°€ ìë£Œ

### ë¬¸ì„œ ëª©ë¡

- `web/docs/` ë””ë ‰í† ë¦¬ì˜ ëª¨ë“  ë¬¸ì„œ
- ì£¼ìš” ë¬¸ì„œ:
  - `SUPER_ADMIN_COMPLETE.md`
  - `MANAGER_WORKSTATION_COMPLETE.md`
  - `CHAT_FILE_CLEANUP_COMPLETE.md`
  - `CLIENT_CHAT_ACCESS_COMPLETE.md`

### ì™¸ë¶€ ë¦¬ì†ŒìŠ¤
- [Next.js ë¬¸ì„œ](https://nextjs.org/docs)
- [Supabase ë¬¸ì„œ](https://supabase.com/docs)
- [Vercel ë¬¸ì„œ](https://vercel.com/docs)

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„ (ê°œì„  ì‚¬í•­)

### ìš°ì„ ìˆœìœ„ ë†’ìŒ
1. UI í…ìŠ¤íŠ¸ ì˜ì–´í™” ì™„ë£Œ
2. ì—ëŸ¬ í•¸ë“¤ë§ ê°•í™”
3. ë¡œë”© ìƒíƒœ ê°œì„ 
4. ëª¨ë°”ì¼ ë°˜ì‘í˜• ê°œì„ 

### ìš°ì„ ìˆœìœ„ ì¤‘ê°„
1. ì‹¤ì‹œê°„ ì•Œë¦¼ (ë¸Œë¼ìš°ì € ì•Œë¦¼)
2. íŒŒì¼ ë¯¸ë¦¬ë³´ê¸° ê¸°ëŠ¥
3. ê²€ìƒ‰ ê¸°ëŠ¥ ê°•í™”
4. ë‹¤êµ­ì–´ ì§€ì›

### ìš°ì„ ìˆœìœ„ ë‚®ìŒ
1. ë‹¤í¬ ëª¨ë“œ
2. í…Œë§ˆ ì»¤ìŠ¤í„°ë§ˆì´ì§•
3. ê³ ê¸‰ ë¶„ì„ ê¸°ëŠ¥

---

## ğŸ‘¥ ì—°ë½ì²˜ ë° ë¦¬ì†ŒìŠ¤

### ê°œë°œ ê´€ë ¨
- **ì €ì¥ì†Œ**: GitHub Repository
- **ë°°í¬**: Vercel Dashboard
- **ë°ì´í„°ë² ì´ìŠ¤**: Supabase Dashboard

### ì§€ì›
- ë¬¸ì„œê°€ ë¶€ì¡±í•œ ê²½ìš° ê¸°ì¡´ ê°œë°œìì—ê²Œ ë¬¸ì˜
- ì´ìŠˆëŠ” GitHub Issuesì— ë“±ë¡

---

## âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸ (ì‹ ì… ì˜¨ë³´ë”©)

ì‹ ì… ê°œë°œìê°€ í•´ì•¼ í•  ì¼:

- [ ] í”„ë¡œì íŠ¸ í´ë¡  ë° ë¡œì»¬ í™˜ê²½ ì„¤ì •
- [ ] Supabase í”„ë¡œì íŠ¸ ì ‘ê·¼ ê¶Œí•œ íšë“
- [ ] í™˜ê²½ ë³€ìˆ˜ ëª¨ë‘ ì„¤ì •
- [ ] ë¡œì»¬ ê°œë°œ ì„œë²„ ì‹¤í–‰ ì„±ê³µ
- [ ] ëª¨ë“  ì£¼ìš” í˜ì´ì§€ íƒìƒ‰
- [ ] ì£¼ìš” API ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì´í•´
- [ ] ì½”ë“œë² ì´ìŠ¤ êµ¬ì¡° íŒŒì•…
- [ ] ì²« ë²ˆì§¸ ì‘ì€ ì‘ì—… ì™„ë£Œ

---

**ë¬¸ì„œ ì‘ì„±ì**: AI Assistant  
**ìµœì¢… ì—…ë°ì´íŠ¸**: 2024ë…„ 12ì›”  
**ë‹¤ìŒ ë¦¬ë·° ì˜ˆì •ì¼**: í•„ìš”ì‹œ ì—…ë°ì´íŠ¸

---

ì´ ë¬¸ì„œê°€ ë„ì›€ì´ ë˜ì—ˆë‚˜ìš”? ê°œì„  ì‚¬í•­ì´ ìˆë‹¤ë©´ GitHub Issuesì— ì œì•ˆí•´ì£¼ì„¸ìš”!

